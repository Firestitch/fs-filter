<div class="fs-filter"
     *ngIf="config?.items?.length"
     [ngClass]="{
     'filters-open': showFilterMenu,
     'no-input': !showFilterInput,
     'window-desktop': windowDesktop
     }">
  <div fxLayou="row" fxLayoutAlign="start center" class="menu-filter" fxFlex="1 1 0">
    <div class="menu-filter-input" fxFlex="grow">
      <div class="main-filter-bar" fxLayout="row" fxLayoutAlign="start center">
        <form autocomplete="off" role="presentation">
          <mat-form-field
            class="filter-input-field"
            (click)="($event)"
            floatLabel="never">
            <span matPrefix>
              <mat-icon
                matPrefix
                (click)="changeVisibilityClick(true, $event)">search</mat-icon>
            </span>

            <input matInput
                  [(ngModel)]="searchText"
                  name="filter-input"
                  #searchTextInput
                  (keydown)="filterInputEvent($event)"
                  (click)="filterInputEvent($event)"
                  class="filter-input"
                  (ngModelChange)="modelChange(searchText)">

            <mat-placeholder>Search</mat-placeholder>
            <a matSuffix
              *ngIf="searchText && showFilterInput"
              (click)="clearSearchText($event)"
              href="javascript:void(0)"
              class="clear">
              <mat-icon>clear</mat-icon>
            </a>
            <a matSuffix
              (click)="reload($event)"
              href="javascript:void(0)"
              class="reload"
              *ngIf="config.reload">
              <mat-icon>refresh</mat-icon>
            </a>
            <a (click)="changeVisibilityClick(true, $event)"
              matSuffix
              href="javascript:void(0)"
              class="filter"
              *ngIf="config.singleTextFilter === false">
              <mat-icon>filter_list</mat-icon>
            </a>
            <span class="active-filters-counter"
                  matSuffix
                  (click)="changeVisibilityClick(true,$event)"
                  *ngIf="!config.chips && activeFiltersCount > 0">
              {{ activeFiltersCount }}
            </span>
            <span class="active-filters-counter"
                  matSuffix
                  (click)="changeVisibilityClick(true,$event)"
                  *ngIf="!config.chips && activeFiltersWithInputCount > 0">
              {{ activeFiltersWithInputCount }}
            </span>
          </mat-form-field>
        </form>
      </div>
      <div class="backdrop" *ngIf="!windowDesktop && showFilterMenu" (click)="backdropClick($event)"></div>
    </div>
  </div>
  <fs-filter-chips class="filter-chips"
                   *ngIf="config.chips"
                   [filters]="changedFilters"
                   (remove)="resetFilter($event)">
  </fs-filter-chips>
</div>
