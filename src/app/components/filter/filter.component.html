<div class="fs-filter"
     *ngIf="config?.items?.length"
     [ngClass]="{
     'filters-open': showFilterMenu,
     'window-desktop': windowDesktop }">
  <ng-container *ngIf="config.keywordFilter; else noKeywordFilter">
    <div class="filter-search-container">
      <div class="filter-input-field">
        <form autocomplete="off" role="presentation">
          <mat-form-field
            floatLabel="never">
            <span matPrefix>
              <mat-icon matPrefix>search</mat-icon>
            </span>

            <input
              matInput
              [(ngModel)]="searchText"
              name="filter-input"
              #searchTextInput
              (click)="filterInputEvent($event)"
              class="filter-input">

            <mat-placeholder>Search</mat-placeholder>
            <a matSuffix
              *ngIf="searchText && showFilterInput"
              (click)="clearSearchText($event)"
              href="javascript:void(0)"
              class="clear">
              <mat-icon>clear</mat-icon>
            </a>

            <a matSuffix
              (click)="reload($event)"
              href="javascript:void(0)"
              class="reload"
              *ngIf="config.reload">
              <mat-icon>refresh</mat-icon>
            </a>
          </mat-form-field>
        </form>
      </div>
      <ng-container *ngTemplateOutlet="filterActions"></ng-container>
    </div>
    <ng-container *ngTemplateOutlet="filterChips"></ng-container>
  </ng-container>

  <ng-template #noKeywordFilter>
    <div class="filter-searchless-container">
      <ng-container *ngTemplateOutlet="filterChips"></ng-container>
      <ng-container *ngTemplateOutlet="filterActions"></ng-container>
    </div>
  </ng-template>
</div>

<ng-template #filterActions>
  <div class="filter-actions" *ngIf="config.nonKeywordFilters">
    <button
      (click)="changeVisibilityClick(!showFilterMenu, $event)"
      mat-raised-button>
      <mat-icon>tune</mat-icon>
      Filters
    </button>
  </div>
</ng-template>

<ng-template #filterChips>
  <fs-filter-chips
    class="filter-chips"
    *ngIf="config.chips"
    [filters]="changedFilters"
    (remove)="resetFilter($event)"
    [ngClass]="{ 'has-filter-chips': activeFiltersWithInputCount }">
  </fs-filter-chips>
</ng-template>
